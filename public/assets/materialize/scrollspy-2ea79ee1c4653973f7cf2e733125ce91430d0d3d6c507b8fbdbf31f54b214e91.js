!function(t){function e(e,r,n,i){var o=t();return t.each(l,function(t,l){if(l.height()>0){var a=l.offset().top,s=l.offset().left,c=s+l.width(),f=a+l.height(),u=!(s>r||c<i||a>n||f<e);u&&o.push(l)}}),o}function r(){++c;var r=o.scrollTop(),n=o.scrollLeft(),i=n+o.width(),l=r+o.height(),s=e(r+f.top+200,i+f.right,l+f.bottom,n+f.left);t.each(s,function(t,e){var r=e.data("scrollSpy:ticks");"number"!=typeof r&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",c)}),t.each(a,function(t,e){var r=e.data("scrollSpy:ticks");"number"==typeof r&&r!==c&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),a=s}function n(){o.trigger("scrollSpy:winSize")}function i(t,e,r){var n,i,o,l=null,a=0;r||(r={});var s=function(){a=r.leading===!1?0:u(),l=null,o=t.apply(n,i),n=i=null};return function(){var c=u();a||r.leading!==!1||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0?(clearTimeout(l),l=null,a=c,o=t.apply(n,i),n=i=null):l||r.trailing===!1||(l=setTimeout(s,f)),o}}var o=t(window),l=[],a=[],s=!1,c=0,f={top:0,right:0,bottom:0,left:0},u=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,n){var a={throttle:100,scrollOffset:200};n=t.extend(a,n);var c=[];e=t(e),e.each(function(e,r){l.push(t(r)),t(r).data("scrollSpy:id",e),t('a[href="#'+t(r).attr("id")+'"]').click(function(e){e.preventDefault();var r=t(this.hash).offset().top+1;t("html, body").animate({scrollTop:r-n.scrollOffset},{duration:400,queue:!1,easing:"easeOutCubic"})})}),f.top=n.offsetTop||0,f.right=n.offsetRight||0,f.bottom=n.offsetBottom||0,f.left=n.offsetLeft||0;var u=i(r,n.throttle||100),h=function(){t(document).ready(u)};return s||(o.on("scroll",h),o.on("resize",h),s=!0),setTimeout(h,0),e.on("scrollSpy:enter",function(){c=t.grep(c,function(t){return 0!=t.height()});var e=t(this);c[0]?(t('a[href="#'+c[0].attr("id")+'"]').removeClass("active"),e.data("scrollSpy:id")<c[0].data("scrollSpy:id")?c.unshift(t(this)):c.push(t(this))):c.push(t(this)),t('a[href="#'+c[0].attr("id")+'"]').addClass("active")}),e.on("scrollSpy:exit",function(){if(c=t.grep(c,function(t){return 0!=t.height()}),c[0]){t('a[href="#'+c[0].attr("id")+'"]').removeClass("active");var e=t(this);c=t.grep(c,function(t){return t.attr("id")!=e.attr("id")}),c[0]&&t('a[href="#'+c[0].attr("id")+'"]').addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return o},e=e||{throttle:100},o.on("resize",i(n,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery);